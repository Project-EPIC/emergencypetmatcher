{% extends 'home/index.html' %}
{% load url from future %}

{% block headers %}
	<link rel="stylesheet" href="{{ STATIC_URL }}css/CalendarControl.css" type="text/css"></link>
{% endblock headers %}

{% block js %}
	<script src="{{ STATIC_URL }}js/CalendarControl.js" type='text/javascript'></script>
	<script src="{{ STATIC_URL }}js/local/epm-petreport_form.js" type='text/javascript'></script>
{% endblock js %}

{% block head_title %}EPM - Report a Lost/Found Pet{% endblock head_title %}
{% block content_title %} Report a Lost/Found Pet {% endblock content_title %}

{% block content %}
	<div id = "pr_form_instructions">
		To create a pet report, please fill in the following fields to the best of your ability. Once you have finished, review the pet report to determine its quality. Review with consideration:

		 <ul>
		 	<li> The quantity of information (are all the fields filled in?) </li>
		 	<li> The quality of information (is the picture relevant and helpful? Is the description free of general 'fluff' and to the point? </li>
		 	<li> And general correctness (is everything spelled correctly?)</li>
		 </ul>
		 If the pet report meets these criteria, click the 'Submit' button at the end of the form. The fields marked with * are required.
	</div>

	<div id="pr_form_container">

		{% if form.errors %} <strong> {{ form.errors }} </strong> {% endif %}

		<form enctype="multipart/form-data" method="POST" action="{% url 'submit_PetReport' %}">
			{% csrf_token %}
			<ul style="list-style-type:none; padding: 0px 0px 0px 20px;">
				{% for field in form %}

					<!-- Geo Location Field set -->
					{% if "Geo Location Lat" in field.label %}
						<li> <strong> Geolocation </strong> </li>
						<div id = "petreport_form_geo">
							Do you have geographical coordinates for the pet? <input id="petreport_form_geo_check" type="checkbox"/>
							<li id="petreport_form_geo_lat_field" style="padding:5px;"></li>
							<li id="petreport_form_geo_long_field" style="padding:5px;"></li>
						</div>
					{% elif "Geo Location Long" in field.label %} <!-- Do nothing -->
					<!-- Contact Field set -->
					{% elif "Contact Name" in field.label %}
						<li> <strong> Pet Contact Preference </strong></li>
						<div id = "petreport_form_contact">
							Do you have a contact person for this pet (if other than yourself)? <input id="petreport_form_contact_check" type="checkbox"/>
							<li id="petreport_form_contact_name_field" style="padding:5px;"></li>
							<li id="petreport_form_contact_number_field" style="padding:5px;"></li>
							<li id="petreport_form_contact_email_field" style="padding:5px;"></li>
						</div>
					{% elif "Contact Phone Number" in field.label %} <!-- Do nothing -->
					{% elif "Contact Email Address" in field.label %} <!-- Do nothing -->

					<!-- Regular Fields -->
					{% else %}
						<!-- Field Label and help text -->
						<li> <strong> {{ field.label }} </strong></li>
						{% if field.help_text %} <li style="margin-bottom:5px;"> {{ field.help_text }} </li> {% endif %}

						<!-- Special cases for these fields -->
						{% if "Date Lost/Found" in field.label %}
							<li>
								<input name="date_lost_or_found" id="id_date_lost_or_found" onfocus="showCalendarControl(this)" type="text"/>
							</li><br/>
						{% elif "Microchip ID" in field.label %}
							<div id="petreport_form_microchip">
								Is the pet microchipped? <input id="petreport_form_microchip_check" type="checkbox"/>
								<li id="petreport_form_microchip_field"></li>
							</div><br/>						

						<!-- Otherwise, just print the field -->
						{% else %}
					    	<li>{{ field }}</li><br/>
					    {% endif %}	
					{% endif %}
				{% endfor %}
			</ul><br/>
			<input type="submit" value="Submit" style= "margin: 10px 0px 10px 0px; width:150px; height:50px; font-size:13pt;float:right;"/>
		</form>
	</div>

{% endblock content %}


